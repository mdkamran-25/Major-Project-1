subscription AlertStatusUpdated {
  alertStatusUpdated {
    id
    status
    level
    confidence
    message
    region
    lastUpdated
    isActive
    details {
      anomalyDetected
      gpsTriggered
      satelliteTriggered
      triggeredStations
      recommendation
      estimatedImpactTime
      affectedAreas
      evacuationZones
    }
  }
}

subscription NewGPSReading {
  newGPSReading {
    id
    stationId
    station {
      id
      stationId
      name
      latitude
      longitude
      network
      isActive
    }
    latitude
    longitude
    displacementX
    displacementY
    displacementZ
    magnitude
    quality
    timestamp
    metadata
  }
}

subscription NewSatelliteData {
  newSatelliteData {
    id
    imageUrl
    cloudinaryPublicId
    timestamp
    region
    regionBounds
    regionCenter
    anomalyScore
    metadata {
      satellite
      resolution
      polarization
      processingLevel
      cloudCover
      dataSource
    }
    processingInfo {
      baselineComparison
      anomalyThreshold
      processingTime
      algorithm
    }
  }
}

subscription SystemHealthUpdated {
  systemHealthUpdated {
    id
    overallStatus
    components {
      name
      status
      responseTime
      errorRate
      lastCheck
      details
    }
    metrics {
      uptime
      responseTime
      dataFreshness
      errorRate
      resourceUsage {
        cpu
        memory
        disk
        network
      }
      performanceData {
        timestamp
        responseTime
        cpuUsage
        memoryUsage
        activeConnections
      }
    }
    timestamp
  }
}

subscription DetectionResultUpdated {
  detectionResultUpdated {
    id
    anomalyDetected
    confidence
    alertLevel
    gpsAnalysis {
      anomalousStations {
        id
        stationId
        magnitude
        quality
        timestamp
      }
      maxDisplacement
      meanDisplacement
      triggeredStationsCount
      totalStations
      confidence
      status
    }
    satelliteAnalysis {
      anomalyDetected
      anomalyScore
      region
      confidence
      status
      metadata
    }
    combinedAnalysis {
      combinedConfidence
      detectionStatus
      gpsTriggered
      satelliteTriggered
      riskAdjustedConfidence
      regionalRiskFactor
    }
    timestamp
    region
  }
}

subscription NotificationSent($userId: ID) {
  notificationSent(userId: $userId) {
    id
    type
    recipient
    message
    status
    sentAt
    deliveredAt
    errorMessage
    metadata
  }
}
